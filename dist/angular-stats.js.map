{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d0e1cc6b7fa647b85c27","webpack:///./src/angular-stats.service.ts","webpack:///external \"angular\"","webpack:///./src/angular-stats.module.ts","webpack:///./index.ts"],"names":["Object","defineProperty","exports","value","angular","require","AngularStats","$rootScope","$document","$window","$timeout","digestInfo","duration","rootScope","document","window","timeout","startingElement","prototype","setStartingElement","element","analyzeWebApp","scopesList","watchersList","componentsInfo","domElementsCount","nodeNameList","find","length","Error","analizeScope","detectFromElement","calculateDigestDuration","composeMessage","mex","name_1","toUpperCase","scopesCount","watchers","nodeName","currentScope","_this","indexOf","push","name_2","undefined","name","forEach","watcher","data","hasOwnProperty","children","childElement","scopePrototype","getPrototypeOf","angularDigest","$digest","args","_i","arguments","start","getTime","apply","toFixed","performance","now","getDate","Date","$inject","angular_stats_service_1","angularStats","module","service","angular_stats_module_1"],"mappings":"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","file":"angular-stats.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"AngularStats\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"AngularStats\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d0e1cc6b7fa647b85c27","import * as angular from \"angular\";\n\nexport class AngularStats {\n\tprivate rootScope: ng.IRootScopeService;\n\tprivate document: ng.IDocumentService;\n\tprivate window: ng.IWindowService;\n\tprivate timeout: ng.ITimeoutService;\n\n\tprivate scopesList: Array<any>;\n\tprivate watchersList: Array<any>;\n\tprivate componentsInfo: Object;\n\n\tprivate domElementsCount: number;\n\tprivate nodeNameList: Object;\n\n\tprivate startingElement: any;\n\tprivate digestInfo = {duration: \"0\"};\n\n\tstatic $inject = [\"$rootScope\", \"$document\", \"$window\", \"$timeout\"];\n\n\tconstructor($rootScope: ng.IRootScopeService,\n\t\t\t\t$document: ng.IDocumentService,\n\t\t\t\t$window: ng.IWindowService,\n\t\t\t\t$timeout: ng.ITimeoutService) {\n\t\tthis.rootScope = $rootScope;\n\t\tthis.document = $document;\n\t\tthis.window = $window;\n\t\tthis.timeout = $timeout;\n\n\t\tthis.startingElement = \"app\";\n\t}\n\n\tpublic setStartingElement(element: any): void {\n\t\tthis.startingElement = element;\n\t}\n\n\tpublic analyzeWebApp(): string {\n\t\tthis.scopesList = [];\n\t\tthis.watchersList = [];\n\t\tthis.componentsInfo = {};\n\n\t\tthis.domElementsCount = 0;\n\t\tthis.nodeNameList = {};\n\n\t\tlet element = this.document.find(this.startingElement);\n\t\tif (!element || element.length == 0) {\n\t\t\tthrow Error(this.startingElement + \" is not a valid selector\");\n\t\t}\n\t\telse {\n\t\t\tthis.analizeScope(this.rootScope);\n\t\t\tthis.detectFromElement(element);\n\t\t\tthis.calculateDigestDuration();\n\t\t}\n\n\t\treturn this.composeMessage();\n\t}\n\n\tprivate composeMessage(): string {\n\n\t\tlet mex = \"GENERAL\\n\";\n\t\tmex += \"----------------------\\n\";\n\t\tmex += \"Tot scopes: \" + this.scopesList.length + \"\\n\";\n\t\tmex += \"Tot watchers: \" + this.watchersList.length + \"\\n\";\n\t\tmex += \"Tot DOM Elements: \" + this.domElementsCount + \"\\n\";\n\t\tmex += \"Digest duration: \" + this.digestInfo.duration + \" ms \\n\\n\";\n\n\t\tmex += \"\\nCOMPONENTS\\n\";\n\t\tmex += \"----------------------\\n\";\n\t\tfor (let name in this.componentsInfo) {\n\t\t\tmex += \"- \" + name.toUpperCase() + \"\\n\" + \"s: \" + this.componentsInfo[name].scopesCount + \", w: \" + this.componentsInfo[name].watchers.length + \"\\n\";\n\t\t}\n\n\t\tmex += \"\\n\\nHTMLElement\\n\";\n\t\tmex += \"----------------------\\n\";\n\t\tfor (let nodeName in this.nodeNameList) {\n\t\t\tmex += nodeName + \": \" + this.nodeNameList[nodeName] + \"\\n\";\n\t\t}\n\n\t\treturn mex;\n\t}\n\n\tprivate analizeScope(currentScope: ng.IScope): void {\n\n\t\tif (this.scopesList.indexOf(currentScope) == -1) {\n\t\t\tthis.scopesList.push(currentScope);\n\n\t\t\tconst name = currentScope[\"$ctrl\"] ? currentScope[\"$ctrl\"][\"name\"] : (currentScope[\"name\"] ? currentScope[\"name\"] : \"Unknown\");\n\t\t\tif (this.componentsInfo[name] == undefined) {\n\t\t\t\tthis.componentsInfo[name] = {\n\t\t\t\t\tname: name, scopesCount: 1, watchers: []\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tthis.componentsInfo[name].scopesCount++;\n\t\t\t}\n\n\t\t\tangular.forEach(currentScope[\"$$watchers\"], (watcher) => {\n\t\t\t\tif (this.watchersList.indexOf(watcher) == -1) this.watchersList.push(watcher);\n\n\t\t\t\tif (this.componentsInfo[name].watchers.indexOf(watcher) == -1) this.componentsInfo[name].watchers.push(watcher);\n\t\t\t});\n\n\t\t\tif (currentScope[\"$$childHead\"]) {\n\t\t\t\tthis.analizeScope(currentScope[\"$$childHead\"]);\n\t\t\t}\n\n\t\t\tif (currentScope[\"$$childTail\"]) {\n\t\t\t\tthis.analizeScope(currentScope[\"$$childTail\"]);\n\t\t\t}\n\n\t\t\tif (currentScope[\"$$prevSibling\"]) {\n\t\t\t\tthis.analizeScope(currentScope[\"$$prevSibling\"]);\n\t\t\t}\n\n\t\t\tif (currentScope[\"$$nextSibling\"]) {\n\t\t\t\tthis.analizeScope(currentScope[\"$$nextSibling\"]);\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate detectFromElement(element: any): void {\n\n\t\tthis.domElementsCount++;\n\t\tif (element.data().hasOwnProperty(\"$scope\")) this.analizeScope(element.data()[\"$scope\"]);\n\n\t\tangular.forEach(element.children(), (childElement: HTMLElement) => {\n\t\t\tif (this.nodeNameList[childElement.nodeName] == undefined) {\n\t\t\t\tthis.nodeNameList[childElement.nodeName] = 1;\n\t\t\t} else {\n\t\t\t\tthis.nodeNameList[childElement.nodeName]++;\n\t\t\t}\n\t\t\tthis.detectFromElement(this.document.find(childElement));\n\t\t});\n\t}\n\n\tprivate calculateDigestDuration(): void {\n\t\tlet duration = 0;\n\t\tlet scopePrototype = Object.getPrototypeOf(this.rootScope);\n\t\tlet angularDigest = scopePrototype.$digest;\n\n\t\tscopePrototype.$digest = (...args) => {\n\t\t\tlet start = this.getTime();\n\t\t\tangularDigest.apply(this.rootScope, args);\n\t\t\tduration = this.getTime() - start;\n\t\t\tthis.digestInfo.duration = duration.toFixed(2);\n\t\t};\n\t};\n\n\tprivate getTime(): number {\n\t\treturn performance ? performance.now() : this.getDate().getTime();\n\t}\n\n\tprivate getDate(): Date {\n\t\treturn new Date();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/angular-stats.service.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"angular\"\n// module id = 1\n// module chunks = 0","import * as angular from \"angular\";\nimport {AngularStats} from \"./angular-stats.service\";\n\nexport const angularStats = angular.module(\"angular-stats\", [])\n\t.service(\"AngularStats\", AngularStats)\n\t.name;\n\n\n// WEBPACK FOOTER //\n// ./src/angular-stats.module.ts","export {angularStats} from \"./src/angular-stats.module\";\nexport {AngularStats} from \"./src/angular-stats.service\";\n\n\n// WEBPACK FOOTER //\n// ./index.ts"],"sourceRoot":""}