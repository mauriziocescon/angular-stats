!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define(["angular"],e):"object"==typeof exports?exports.AngularStats=e(require("angular")):t.AngularStats=e(t.angular)}(this,function(t){return function(t){function __webpack_require__(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,__webpack_require__),o.l=!0,o.exports}var e={};return __webpack_require__.m=t,__webpack_require__.c=e,__webpack_require__.i=function(t){return t},__webpack_require__.d=function(t,e,n){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=3)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=function(){function AngularStats(t,e,n,o){this.digestInfo={duration:"0"},this.rootScope=t,this.document=e,this.window=n,this.timeout=o,this.startingElement=this.document[0].querySelector("app")}return AngularStats.prototype.setStartingElement=function(t){this.startingElement=t},AngularStats.prototype.analyzeWebApp=function(){this.scopesList=[],this.watchersList=[],this.componentsInfo={},this.domElementsCount=0,this.nodeNameList={};var t=this.document.find(this.startingElement);if(!t||0==t.length)throw Error(this.startingElement+" is not a valid selector");return this.analizeScope(this.rootScope),this.detectFromElement(t),this.calculateDigestDuration(),this.composeMessage()},AngularStats.prototype.composeMessage=function(){var t="GENERAL\n";t+="----------------------\n",t+="Tot scopes: "+this.scopesList.length+"\n",t+="Tot watchers: "+this.watchersList.length+"\n",t+="Tot DOM Elements: "+this.domElementsCount+"\n",t+="Digest duration: "+this.digestInfo.duration+" ms \n\n",t+="\nCOMPONENTS\n",t+="----------------------\n";for(var e in this.componentsInfo)t+="- "+e.toUpperCase()+"\ns: "+this.componentsInfo[e].scopesCount+", w: "+this.componentsInfo[e].watchers.length+"\n";t+="\n\nHTMLElement\n",t+="----------------------\n";for(var n in this.nodeNameList)t+=n+": "+this.nodeNameList[n]+"\n";return t},AngularStats.prototype.analizeScope=function(t){var e=this;if(-1==this.scopesList.indexOf(t)){this.scopesList.push(t);var n=t.$ctrl?t.$ctrl.name:t.name?t.name:"Unknown";void 0==this.componentsInfo[n]?this.componentsInfo[n]={name:n,scopesCount:1,watchers:[]}:this.componentsInfo[n].scopesCount++,o.forEach(t.$$watchers,function(t){-1==e.watchersList.indexOf(t)&&e.watchersList.push(t),-1==e.componentsInfo[n].watchers.indexOf(t)&&e.componentsInfo[n].watchers.push(t)}),t.$$childHead&&this.analizeScope(t.$$childHead),t.$$childTail&&this.analizeScope(t.$$childTail),t.$$prevSibling&&this.analizeScope(t.$$prevSibling),t.$$nextSibling&&this.analizeScope(t.$$nextSibling)}},AngularStats.prototype.detectFromElement=function(t){var e=this;this.domElementsCount++,t.data().hasOwnProperty("$scope")&&this.analizeScope(t.data().$scope),o.forEach(t.children(),function(t){void 0==e.nodeNameList[t.nodeName]?e.nodeNameList[t.nodeName]=1:e.nodeNameList[t.nodeName]++,e.detectFromElement(e.document.find(t))})},AngularStats.prototype.calculateDigestDuration=function(){var t=this,e=0,n=Object.getPrototypeOf(this.rootScope),o=n.$digest;n.$digest=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.getTime();o.apply(t.rootScope,n),e=t.getTime()-i,t.digestInfo.duration=e.toFixed(2)}},AngularStats.prototype.getTime=function(){return performance?performance.now():this.getDate().getTime()},AngularStats.prototype.getDate=function(){return new Date},AngularStats}();r.$inject=["$rootScope","$document","$window","$timeout"],e.AngularStats=r},function(e,n){e.exports=t},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(0);e.angularStats=o.module("angular-stats",[]).service("AngularStats",r.AngularStats).name},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(2);e.angularStats=o.angularStats;var r=n(0);e.AngularStats=r.AngularStats}])});